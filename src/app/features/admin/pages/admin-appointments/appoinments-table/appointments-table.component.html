<div class="table-wrap">
    <table class="table table-hover align-middle mb-0">
        <thead>
            <tr>
                <th>Дата</th>
                <th>Час</th>
                <th>Пациент</th>
                <th>Телефон</th>
                <th>Тип</th>
                <th>Статус</th>
                <th class="text-end">Действия</th>
            </tr>
        </thead>

        <tbody>
            @if (!items.length) {
            <tr>
                <td colspan="7" class="text-center text-secondary py-4">Няма записани часове.</td>
            </tr>
            } @else {
            @for (a of items; track a.id) {
            <tr (click)="select.emit(a)" style="cursor:pointer">
                <td>{{ a.appointmentDate }}</td>
                <td><strong>{{ a.appointmentTime }}</strong></td>
                <td>{{ a.patientName }}</td>
                <td>{{ a.patientPhone }}</td>
                <td>{{ a.visitType | visitTypeBg: 'short' }}</td>
                <td>
                    <!-- status: 3 = Cancelled -->
                    <span class="badge"
                        [class.text-bg-success]="a.appointmentStatus == '1'"
                        [class.text-bg-secondary]="a.appointmentStatus == '3'">
                        {{ a.appointmentStatus == '3' ? 'Отменен' : 'Всички' }}
                    </span>
                </td>
                <td class="text-end">
                    <button class="btn btn-sm btn-outline-primary" (click)="onOpen($event, a)">Детайли</button>
                </td>
            </tr>
            }
            }
        </tbody>
    </table>
</div>